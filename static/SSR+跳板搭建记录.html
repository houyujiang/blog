<h2 id="ssr-">SSR + è·³æ¿æ­å»ºè®°å½•</h2>
<p>é‰´äºæˆ‘çš„ ss æœåŠ¡å•†æ€»æ˜¯å¸¦ç€ç§Ÿé‡‘è·‘è·¯ï¼Œæˆ‘å†³å®šæ­å»ºä¸€ä¸ª ss æœåŠ¡å™¨ï¼Œè€ƒè™‘åˆ°æˆ‘æ­£åœ¨ä½¿ç”¨å’Œç”µè¯æ‹¨å·é€Ÿåº¦ç›¸å½“çš„é•¿åŸå®½å¸¦ï¼Œ
è¿˜éœ€è¦æ¶è®¾ä¸€ä¸ªå›½å†…æœåŠ¡å™¨ç”¨äºè·³æ¿ï¼Œé¢„ç®—çº¦æ˜¯ ss æœåŠ¡å™¨ 2.5$ ï¼Œè·³æ¿æœåŠ¡å™¨ 5$ ã€‚
ä½ å¯ä»¥é€šè¿‡æˆ‘çš„ <a href="https://www.vultr.com/?ref=7213278">é‚€è¯·é“¾æ¥</a> è´­ä¹°æœåŠ¡å™¨ï¼Œæˆ‘ä¼šå¾—åˆ°é¢å¤–çš„å¥–åŠ±ã€‚åæ„Ÿå¯ä»¥å»æ‰é“¾æ¥å°¾éƒ¨çš„ idã€‚</p>
<blockquote>
<p>å¦‚æœä½ çš„ç½‘ç»œæœåŠ¡æä¾›å•†æ²¡æœ‰å±è”½ ss æœåŠ¡å™¨çš„ IP æˆ–ç«¯å£ï¼Œå®Œå…¨å¯ä»¥è·³æ¿è·³æ¿ã€‚</p>
</blockquote>
<h3 id="-">ç¯å¢ƒ</h3>
<p>æˆ‘åœ¨ <a href="https://www.vultr.com/?ref=7213278">vultr</a> è´­ä¹° 2.5$ ä¸€ä¸ªæœˆçš„æœåŠ¡å™¨ï¼Œä¸è¢«å¹²æ‰°å¯ä»¥æ­£å¸¸æµè§ˆ 1080P youtube ï¼Œå¦‚æœä½ éœ€è¦æ¯å¤©çœ‹ twitch è¿™ç±»ç›´æ’­ï¼Œå¯èƒ½éœ€è¦ 5$ æˆ–æ›´å¥½çš„æœåŠ¡å™¨ã€‚</p>
<p>å…ˆåˆ›å»ºä¸€ä¸ªç”¨æˆ·ç”¨äºæ—¥å¸¸çš„ç™»å½•ï¼š</p>
<pre><code class="lang-bash"><span class="hljs-comment"># add new user</span>
useradd {<span class="hljs-built_in">name</span>}
passwd {<span class="hljs-built_in">name</span>}
</code></pre>
<p>ç»™æ–°ç”¨æˆ·åŠ ä¸Š sudo æƒé™ï¼š
<code>sudo vi /etc/sudoers</code> :</p>
<pre><code class="lang-shell">root    <span class="hljs-built_in">ALL</span>=(<span class="hljs-built_in">ALL</span>)     <span class="hljs-built_in">ALL</span>
{<span class="hljs-keyword">name</span>}    <span class="hljs-built_in">ALL</span>=(<span class="hljs-built_in">ALL</span>)    <span class="hljs-built_in">ALL</span>    # add
</code></pre>
<h3 id="-ssr">å¤šç”¨æˆ· SSR</h3>
<p>ç”¨è„šæœ¬å®‰è£… SSR ï¼š</p>
<pre><code class="lang-bash"># install  
wget -<span class="hljs-keyword">N</span> --<span class="hljs-keyword">no</span>-check-certificate http<span class="hljs-variable">s:</span>//raw.githubusercontent.<span class="hljs-keyword">com</span>/<span class="hljs-number">91</span>yun/shadowsocks_install/master/shadowsocksR.<span class="hljs-keyword">sh</span> &amp;&amp; bash shadowsocksR.<span class="hljs-keyword">sh</span>

# commander  
/etc/init.d/shadowsocks {start/<span class="hljs-keyword">stop</span>/restart/status}

# show <span class="hljs-built_in">log</span>  
<span class="hljs-keyword">cat</span> /var/<span class="hljs-built_in">log</span>/shadowsocks.<span class="hljs-built_in">log</span>

# <span class="hljs-keyword">update</span>  
<span class="hljs-keyword">cd</span> /usr/local/shadowsocks/shadowsocks &amp;&amp; gl

# uninstall
./shadowsocksR.<span class="hljs-keyword">sh</span> uninstall
</code></pre>
<h4 id="-">å¤šç”¨æˆ·</h4>
<p>é»˜è®¤çš„é…ç½®åœ¨ <code>/etc/shadowsocks.json</code> ï¼Œå¦‚æœä½ å¸Œæœ›å¤šç”¨æˆ·ç™»å½•ï¼Œå¯ä»¥åˆ é™¤åŸæœ‰çš„å¸å·å¯†ç ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ 
ç«¯å£å¯¹äºå¯†ç çš„é”®å€¼å¯¹ã€‚ï¼ˆè®°å¾—è¿™æ˜¯ä¸ª JSON æ–‡ä»¶ï¼Œä¸è¦æœ‰è¯­æ³•é”™è¯¯ï¼‰</p>
<pre><code class="lang-bash"><span class="hljs-meta">#</span><span class="bash"> close firewalld</span>
sudo systemctl stop firewalld.service
<span class="hljs-meta">
#</span><span class="bash"> edit config</span>
vi /etc/shadowsocks.json
</code></pre>
<pre><code class="lang-json">{
  <span class="hljs-attr">"server"</span>: <span class="hljs-string">"0.0.0.0"</span>,
  <span class="hljs-attr">"local_address"</span>: <span class="hljs-string">"127.0.0.1"</span>,
  <span class="hljs-attr">"local_port"</span>: <span class="hljs-number">1080</span>,
  <span class="hljs-attr">"port_password"</span>: {
    <span class="hljs-attr">"3000"</span>: <span class="hljs-string">"123456"</span>
  },
  <span class="hljs-attr">"...other config"</span>: <span class="hljs-string">""</span>
}
</code></pre>
<h3 id="-ssr">å®¢æˆ·ç«¯ SSR</h3>
<p>è™½ç„¶ SSR è„šæœ¬èƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆä¸€ä¸ªæœåŠ¡ç«¯ï¼Œä½†ä¸å…·å¤‡æµé‡æ§åˆ¶æŸ¥è¯¢ï¼Œä¹Ÿæ²¡æœ‰å¯è§†åŒ–çª—å£ï¼Œå¦‚æœä½ éœ€è¦è¿™äº›ï¼Œå¯ä»¥æ ¹æ®ä¸‹é¢çš„é…ç½®
åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ä¸€ä¸ªå®¢æˆ·ç«¯ã€‚å°±æ˜¯ä½ å¸¸è§çš„é‚£äº›é»‘å¿ƒå•†äººçš„ç½‘ç«™äº† ğŸ¤”</p>
<p>å‚è€ƒ <a href="https://sspanel.xyz/docs">æ–‡æ¡£</a></p>
<p>å‚è€ƒ <a href="https://github.com/shadowsocks/shadowsocks-go">é¡¹ç›®</a></p>
<pre><code class="lang-bash"><span class="hljs-meta">## install docker and docker-compose</span>
...

<span class="hljs-meta"># run compose</span>
wget https:<span class="hljs-comment">//raw.githubusercontent.com/orvice/ss-panel/master/docker-compose.yml</span>
docker-compose up -d

<span class="hljs-meta"># install ss-go  </span>
go <span class="hljs-keyword">get</span> shadowsocks/shadowsocks-go/cmd/shadowsocks-server
</code></pre>
<h3 id="-">è·³æ¿</h3>
<p>å¯ä»¥é€‰æ‹©è‡ªå·±ç”¨å›½å†…çš„æœåŠ¡å™¨æ­è®¾ä¸€ä¸ªè·³æ¿ï¼Œè½¬å‘ tcp/udp åˆ° <a href="https://www.vultr.com/?ref=7213278">vultr</a> æœåŠ¡å™¨ï¼Œæˆ–è€…æ˜¯ç›´æ¥ä½¿ç”¨ä¸“ä¸šçš„ç½‘ç»œé“¾è·¯ä»£ç†ã€‚</p>
<h4 id="-haproxy-">åˆ©ç”¨ <code>haproxy</code> å®ç°èµ„æºè½¬å‘ï¼š</h4>
<pre><code class="lang-bash">apt-<span class="hljs-builtin-name">get</span> install haproxy
sudo vi /etc/haproxy/haproxy.cfg
</code></pre>
<p>åœ¨ <code>/etc/haproxy/haproxy.cfg</code> ä¸­ç¼–è¾‘:</p>
<pre><code>global
        ulimit-n  51200

defaults
        log    global
        mode    tcp
        option    dontlognull
        contimeout 1000
        clitimeout 150000
        srvtimeout 150000

frontend app
        bind *: {PORT}
        default_backend ss-out

backend app
       <span class="hljs-built_in"> server </span>server1 {VULTR_IP:PORT} maxconn 20480
</code></pre><p>è¿è¡Œ <code>haproxy -f /etc/haproxy/haproxy.cfg</code> .</p>
<p>å…¶ä»–å‘½ä»¤:</p>
<pre><code><span class="hljs-comment"># åœæ­¢</span>
sudo systemctl stop haproxy.service
<span class="hljs-comment"># æŸ¥çœ‹çŠ¶æ€</span>
sudo systemctl status haproxy.service
<span class="hljs-comment"># å¯åŠ¨</span>
sudo systemctl start haproxy.service

<span class="hljs-comment"># å¦‚æœä½ ä¸æ˜¯ centOS 7, å¯ä»¥ä½¿ç”¨</span><span class="hljs-built_in">
service </span>haproxy start/stop/restart
</code></pre><h4 id="-">ä¸“ä¸šçš„ä»£ç†æä¾›å•†</h4>
<p>ä½ å¯ä»¥ä½¿ç”¨ <a href="https://vnet.link/?rc=52957">VLink</a> è´­ä¹°ä¸“ä¸šçš„é“¾è·¯çº§ç½‘ç»œä¼˜åŒ–ã€‚</p>
<p>ç•¥è´µï¼Œä¸è¿‡ä¼˜åŒ–æ¯”è¾ƒå¥½ï¼Œæ¯”æ‰‹åŠ¨åœ¨å›½å†…æ­è·³æ¿ä¼šæ›´å¿«ä¸€äº›ã€‚</p>
